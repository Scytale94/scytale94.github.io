<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Home</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- Icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">

<style>
:root {
      --bg: #2a1b2e;
      --section-bg: #3b2640;
      --card-bg: #4b2b50;
      --text: #f3e5f5;
      --muted: #dcdcdc;
      --accent: #8e24aa;
      --hover: #7b1fa2;
}

body {
    background: var(--bg);
    color: var(--text);
    font-family: Arial, sans-serif;
    margin: 0;
    padding: 0;
}

h1 {
    text-align: center;
    margin-top: 15px;
    font-size: 2rem;
    color: var(--text);
}

/* COMPACT WEATHER WIDGET */
#weather-section {
    width: 100%;
    max-width: 740px;
    margin: 15px auto 0 auto;
    padding: 0 10px;
}

#weather-section h2 {
    font-size: 1.4rem;
    margin-bottom: 8px;
    text-align: center;
}

.weather-card {
    background: var(--card-bg);
    border-radius: 14px;
    padding: 10px 6px;
    display: flex;
    justify-content: space-between;
    gap: 8px;
}

.weather-day {
    width: 32%;
    background: rgba(255,255,255,0.07);
    padding: 8px;
    border-radius: 12px;
    text-align: center;
}

.weather-day h3 {
    margin: 0;
    font-size: 0.9rem;
    color: var(--accent);
}

/* Rounded icon style */
.weather-icon {
    width: 45px;
    height: 45px;
    margin: 6px auto;
    background: rgba(0,0,0,0.25);
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
}

.weather-icon img {
    width: 26px;
    height: 26px;
}

.weather-temp {
    font-size: 1.05rem;
    font-weight: bold;
}

.weather-desc {
    font-size: 0.8rem;
    color: var(--muted);
}

/*** Link Grid (unchanged from before) ***/
#links {
    max-width: 900px;
    margin: 20px auto;
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
    gap: 15px;
}

.link-card {
    background: var(--card-bg);
    padding: 12px;
    border-radius: 12px;
    text-align: center;
    transition: 0.25s;
}

.link-card:hover {
    background: var(--hover);
    cursor: pointer;
}

.link-card i {
    font-size: 26px;
    margin-bottom: 6px;
    display: block;
    color: var(--accent);
}
</style>
</head>
<body>

<h1>Home</h1>

<!-- WEATHER -->
<div id="weather-section">
    <h2><i class="fas fa-cloud-sun"></i> Indianapolis Weather</h2>
    <div id="weather-container" class="weather-card">
        <!-- JS will insert forecast -->
    </div>
</div>

<!-- LINKS SECTION -->
<div id="links">
    <a class="link-card" href="https://www.youtube.com" target="_blank">
        <i class="fab fa-youtube"></i> YouTube
    </a>
    <a class="link-card" href="https://www.reddit.com" target="_blank">
        <i class="fab fa-reddit"></i> Reddit
    </a>
    <a class="link-card" href="https://www.amazon.com" target="_blank">
        <i class="fab fa-amazon"></i> Amazon
    </a>
    <a class="link-card" href="https://old.reddit.com/r/fantasyfootball" target="_blank">
        <i class="fas fa-football-ball"></i> Fantasy Football
    </a>
    <a class="link-card" href="https://www.goodreads.com" target="_blank">
        <i class="fas fa-book"></i> Goodreads
    </a>
    <a class="link-card" href="https://paidviewpoint.com" target="_blank">
        <i class="fas fa-coins"></i> PaidViewpoint
    </a>
    <a class="link-card" href="https://mail.google.com" target="_blank">
        <i class="fas fa-envelope"></i> Gmail
    </a>
</div>

<script>
/* Weather using wttr.in_raw icons (fast + rounded icon container) */
async function loadWeather() {
    const url = "https://wttr.in/Indianapolis?format=j1";

    try {
        const res = await fetch(url);
        const data = await res.json();

        const forecast = data.weather.slice(0, 3);
        const container = document.getElementById("weather-container");
        container.innerHTML = "";

        forecast.forEach(day => {
            const date = new Date(day.date);
            const name = date.toLocaleDateString("en-US", { weekday: "short" });
            const avgTemp = day.avgtempF + "Â°F";

            const cond = day.hourly[4].weatherDesc[0].value;

            /* wttr.in provides icon URLs */
            const iconUrl = day.hourly[4].weatherIconUrl[0].value;

            container.innerHTML += `
                <div class="weather-day">
                    <h3>${name}</h3>
                    <div class="weather-icon">
                        <img src="${iconUrl}" alt="">
                    </div>
                    <div class="weather-temp">${avgTemp}</div>
                    <div class="weather-desc">${cond}</div>
                </div>
            `;
        });

    } catch (e) {
        document.getElementById("weather-container").innerHTML =
            "<p style='text-align:center;color:var(--muted);'>Weather unavailable.</p>";
    }
}

loadWeather();
</script>

</body>
</html>
